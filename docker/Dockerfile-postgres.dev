# PostgreSQL Dockerfile for Warehouse Server - DEV Environment
# Based on postgres:16-alpine

FROM postgres:16-alpine

LABEL maintainer="Smart Warehouse Team"
LABEL description="PostgreSQL 16 for Warehouse Server - DEV Environment"
LABEL environment="dev"

# 设置环境变量（匹配 docker-compose.dev.yml）
ENV POSTGRES_USER=cowlin
ENV POSTGRES_PASSWORD=abc123
ENV POSTGRES_DB=smartwarehouse_warehouse_dev
ENV PGDATA=/var/lib/postgresql/data/pgdata

# 暴露端口
EXPOSE 5432

# 健康检查（匹配 docker-compose.dev.yml）
HEALTHCHECK --interval=10s --timeout=5s --retries=5 \
    CMD pg_isready -U cowlin || exit 1

